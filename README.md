# [<img src="kivi.png" width="64"/>](kivi.png) KiViDB

🥝**KiviDB** is simple key-value database written in Golang.

## Installation

1. **Build** project:

```sh
go build .
```

2. Create **.env** file like this:

```env
DIR_NAME=KiViDataBase
PORT=8080
HOST=localhost
FTP_PORT=3000
FTP_DIR=KiViDataBase/src
```

3. Run `./kiviDB`
4. Setup and work with database by http API.

## Routes

> /cluster/<br>
> /doc/

## Request

### **/doc** (for single-document operations):

#### Get document by id in cluster

> GET:
>
> ```
> http://localhost:8080/doc/cluster_name/id
> ```

#### Create new value in cluster with autogenerated-key:

> POST:
>
> ```
> http://localhost:8080/doc/cluster_name
> ```
>
> JSON example:
>
> ```json
> {
>   "Value": "SomeValue"
> }
> ```

#### Create new value in cluster with known-key:

> POST:
>
> ```
> http://localhost:8080/doc/cluster_name/id
> ```
>
> JSON example:
>
> ```json
> {
>   "Value": "SomeValue"
> }
> ```

#### Delete value by id (in cluster, of course):

> DELETE:
>
> ```
> http://localhost:8080/doc/cluster_name/id
> ```

### **/cluster** (for create and delete cluster):

### Create cluster:

> POST:
>
> ```
> http://localhost:8080/cluster/cluster_name
> ```

#### Get all documents in cluster:

> GET:
>
> ```
> http://localhost:8080/cluster/cluster_name
> ```

#### Delete cluster (**_warning! it also delete all documents in cluster!_**):

> DELETE:
>
> ```
> http://localhost:8080/cluster/cluster_name
> ```
